<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Backup and restore files • networkedwebsitesdetector</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Backup and restore files">
<meta property="og:description" content="networkedwebsitesdetector">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">networkedwebsitesdetector</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/networkedwebsitesdetector.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/backup_restore.html">Backup and restore files</a>
    </li>
    <li>
      <a href="../articles/identifiers_excluded_by_default.html">Identifiers excluded by default</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/giocomai/networkedwebsitesdetector/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="backup_restore_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="backup_restore_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="backup_restore_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Backup and restore files</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/giocomai/networkedwebsitesdetector/blob/master/vignettes/backup_restore.Rmd"><code>vignettes/backup_restore.Rmd</code></a></small>
      <div class="hidden name"><code>backup_restore.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/giocomai/networkedwebsitesdetector">networkedwebsitesdetector</a></span><span class="op">)</span></pre></div>
<div id="archive-and-store-remotely" class="section level1">
<h1 class="hasAnchor">
<a href="#archive-and-store-remotely" class="anchor"></a>Archive and store remotely</h1>
<p>Working at scale, disk space may soon become an issue. <code>networkedwebsitesdetector</code> includes a series of convenience functions to compress downloaded materials, and store them remotely on Google Drive.</p>
<p>This function compresses and stores in a dedicated folder all relevant files.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="../reference/nwd_archive.html">nwd_archive</a></span><span class="op">(</span>date <span class="op">=</span> <span class="cn">NULL</span>,
            folder <span class="op">=</span> <span class="st">"tweets"</span>,
            timeframe <span class="op">=</span> <span class="st">"daily"</span>,
            language <span class="op">=</span> <span class="st">"it"</span>,
            filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span></pre></div>
<p>They can be safely deleted, as they can be easily recovered with:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="../reference/nwd_restore.html">nwd_restore</a></span><span class="op">(</span>date <span class="op">=</span> <span class="cn">NULL</span>,
            folder <span class="op">=</span> <span class="st">"tweets"</span>,
            timeframe <span class="op">=</span> <span class="st">"daily"</span>,
            language <span class="op">=</span> <span class="st">"it"</span>,
            filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span></pre></div>
<p>As storage space runs out quickly, this package includes helper functions facilitating uploading compressed files to Google Drive. Additional functions make it easy to download and restore data at need for further analysis.</p>
<div id="upload-to-google-drive" class="section level3">
<h3 class="hasAnchor">
<a href="#upload-to-google-drive" class="anchor"></a>Upload to Google Drive</h3>
<p>Users may want to give access only to folders created via R’s googledrive, preventing access to all other user data.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu">googledrive</span><span class="fu">::</span><span class="fu">drive_auth</span><span class="op">(</span>email <span class="op">=</span> <span class="st">"&lt;your_email&gt;@gmail.com"</span>,
                        scopes <span class="op">=</span> <span class="st">"https://www.googleapis.com/auth/drive.file"</span><span class="op">)</span></pre></div>
<p>If date is not given, all available dates will be uploaded/downloaded (without overwriting already existing files).</p>
<div class="sourceCode" id="cb5"><pre class="downlit">

<span class="fu"><a href="../reference/nwd_upload_to_googledrive.html">nwd_upload_to_googledrive</a></span><span class="op">(</span>date <span class="op">=</span> <span class="cn">NULL</span>,
                          folder <span class="op">=</span> <span class="st">"emm_newsbrief"</span>,
                          timeframe <span class="op">=</span> <span class="st">"daily"</span>,
                          language <span class="op">=</span> <span class="st">"it"</span>,
                          filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span></pre></div>
<p>To restore:</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="fu"><a href="../reference/nwd_download_from_googledrive.html">nwd_download_from_googledrive</a></span><span class="op">(</span>date <span class="op">=</span> <span class="cn">NULL</span>,
                             folder <span class="op">=</span> <span class="st">"emm_newsbrief"</span>,
                             timeframe <span class="op">=</span> <span class="st">"daily"</span>,
                             language <span class="op">=</span> <span class="st">"it"</span>,
                             filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span></pre></div>
</div>
<div id="restore-everything-in-an-empty-folder" class="section level2">
<h2 class="hasAnchor">
<a href="#restore-everything-in-an-empty-folder" class="anchor"></a>Restore everything in an empty folder</h2>
<p>In brief, a routine such as the following (likely to be further simplified in future version), would restore all the main data gathered, leaving the bulky archive of html files on Google Drive only.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="fu"><a href="../reference/nwd_download_from_googledrive.html">nwd_download_from_googledrive</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="st">"emm_newsbrief"</span>, timeframe <span class="op">=</span> <span class="st">"daily"</span>, language <span class="op">=</span> <span class="st">"it"</span>, filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>
<span class="fu"><a href="../reference/nwd_restore.html">nwd_restore</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="st">"emm_newsbrief"</span>, timeframe <span class="op">=</span> <span class="st">"daily"</span>, language <span class="op">=</span> <span class="st">"it"</span>, filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>

<span class="fu"><a href="../reference/nwd_download_from_googledrive.html">nwd_download_from_googledrive</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="st">"tweets"</span>, timeframe <span class="op">=</span> <span class="st">"daily"</span>, language <span class="op">=</span> <span class="st">"it"</span>, filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>
<span class="fu"><a href="../reference/nwd_restore.html">nwd_restore</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="st">"tweets"</span>, timeframe <span class="op">=</span> <span class="st">"daily"</span>, language <span class="op">=</span> <span class="st">"it"</span>, filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>

<span class="fu"><a href="../reference/nwd_download_from_googledrive.html">nwd_download_from_googledrive</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="st">"identifiers"</span>, timeframe <span class="op">=</span> <span class="st">"daily"</span>, language <span class="op">=</span> <span class="st">"it"</span>, filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>
<span class="fu"><a href="../reference/nwd_restore.html">nwd_restore</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="st">"identifiers"</span>, timeframe <span class="op">=</span> <span class="st">"daily"</span>, language <span class="op">=</span> <span class="st">"it"</span>, filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>

<span class="fu"><a href="../reference/nwd_download_from_googledrive.html">nwd_download_from_googledrive</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="st">"tweet_links"</span>, timeframe <span class="op">=</span> <span class="st">"daily"</span>, language <span class="op">=</span> <span class="st">"it"</span>, filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>
<span class="fu"><a href="../reference/nwd_restore.html">nwd_restore</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="st">"tweet_links"</span>, timeframe <span class="op">=</span> <span class="st">"daily"</span>, language <span class="op">=</span> <span class="st">"it"</span>, filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>

<span class="fu"><a href="../reference/nwd_download_from_googledrive.html">nwd_download_from_googledrive</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="st">"network_df"</span>, timeframe <span class="op">=</span> <span class="st">"daily"</span>, language <span class="op">=</span> <span class="st">"it"</span>, filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span>
<span class="fu"><a href="../reference/nwd_restore.html">nwd_restore</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="st">"network_df"</span>, timeframe <span class="op">=</span> <span class="st">"daily"</span>, language <span class="op">=</span> <span class="st">"it"</span>, filetype <span class="op">=</span> <span class="st">"rds"</span><span class="op">)</span></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Giorgio Comai.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
